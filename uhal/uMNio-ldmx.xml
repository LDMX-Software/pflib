<?xml version="1.0" encoding="utf-8"?>
<node id="uMNioLDMX">
  <node id="LINK" address="0x100">
     <node id="SPY_START" address="1" mask="0x10" permission="rw" description="Start spy operation one-shot"/>
   
     <node id="SETUP" address="2" permission="rw">
        <node id="TXPOLARITY" mask="0x1"/>
        <node id="PLLTXRESET" mask="0x2"/>
        <node id="GTXTXRESET" mask="0x4"/>
        <node id="TXRESET" mask="0x8"/>
        <node id="RXRESET" mask="0x10"/>
        <node id="RXPOLARITY" mask="0x20"/>
        <node id="PREEMPHASIS"    mask="0xF0000"/>
        <node id="POSTEMPHASIS" mask="0x1F00000"/>
        <node id="DIFFCTRL"    mask="0xF0000000"/>
     </node>
     <node id="STATUS" address="0x40" permission="r"/>
     <node id="CLKTX" address="0x41" permission="r"/>
     <node id="CLKRX" address="0x42" permission="r"/>
     <node id="K_RATE" address="0x43" permission="r"/>
     <node id="SPY_RX" address="0x80" mode="incremental" size="64" permission="r"/>
     <node id="SPY_TX" address="0xC0" mode="incremental" size="64" permission="r"/>
  </node>
  <node id="FAST_CONTROL" address="0x200">
     <node id="ORBIT_LENGTH" address="2" permission="rw" mask="0xFFF"/>
     <node id="SEND_L1A" address="1" permission="rw" mask="0x1"/>
     <node id="SEND_LINK_RESET" address="1" permission="rw" mask="0x2"/>
     <node id="SEND_BUFFER_CLEAR" address="1" permission="rw" mask="0x4"/>
     <node id="SEND_CALIB_REQ" address="1" permission="rw" mask="0x8"/>
     <node id="STATIC_BITS" address="0" permission="rw" mask="0xF00"/>
     <node id="CALIB_PULSE_LEN" address="2" permission="rw"  mask="0x0F000000"/>
     <node id="CALIB_L1A_OFFSET" address="2" permission="rw" mask="0x00FF0000"/>
     <node id="OCC" address="0x44" permission="r" mask="0xFF"/>
     <node id="OCC_MAX" address="0x44" permission="r" mask="0xFF00" />
     <node id="SPILL_COUNT" address="0x44" permission="r" mask="0xFFF0000"/>
     <node id="EVENT_COUNT" address="0x45" permission="r" />
     <node id="VETO" address="0x49" permission="r" mask="0xFFF" />
     <node id="CLEAR_FIFO" address="0x1" permission="rw" mask="0x10" />
     <node id="ADVANCE_L1_FIFO" address="0x1" permission="rw" mask="0x20" />
     <node id="ENABLES" address="0x0" permission="rw" />
     <node id="VETO_SETUP" address="0x0" permission="rw" />
     <node id="OCC_VETO" address="4" permission="rw" />
  </node>
  <node id="WISHBONE" address="0x100000">
    <node id="WB_WRITE_DATA" address="0x3" description="Data to write"/>
    <node id="WB_ADDR" address="0x2" mask="0x3FFFF" description="Address on the wishbone bus"/>
    <node id="WB_TARGET" address="0x2" mask="0x3F00000" description="Which target on the bus"/>
    <node id="WB_RESET" address="0x2" mask="0x20000000" description="Send a reset on the bus"/>
    <node id="WB_WE" address="0x2" mask="0x10000000" description="Transaction will be a write"/>
    <node id="START" address="0x1" mask="0x1" description="Single pulse start of transaction"/>
    <node id="HALT_TRANSACTION" address="0x1" mask="0x2" description="Stop a transaction/timeout"/>
    <node id="CRC_BYPASS" address="0x0" mask="0x10" description="bypass the CRC"/>
    <node id="COUNTER_RESET" address="0x1" mask="0x4" description="Clear the counters"/>
    <node id="DONE" address="0x40" mask="0x2" permission="r" description="Transaction complete"/>
    <node id="WB_BUSY" address="0x40" mask="0x1" permission="r" description="Wishbone bus busy (strobe high)"/>
    <node id="WB_READ_DATA" address="0x41" permission="r" description="Read-back data"/>
    <node id="CRC_UP_ERROR_COUNT" address="0x42" permission="r" mask="0xFFFF0000" description="CRC errors in the returning data"/>
    <node id="CRC_DN_ERROR_COUNT" address="0x42" permission="r" mask="0xFFFF" description="Number of WB errors seen"/>
    <node id="WB_ERROR_COUNT" address="0x43" permission="r" mask="0xFFFF" description="Number of WB errors seen"/>
  </node>
  <node id="DAQ"      address="0x200000">
    <node id="PAGE_LENGTH" address="0" mask="0x3" permission="rw" description="Select page size between 512 and 2048"/>
    <node id="DAQ_CLEAR" address="1" mask="0x1" permission="rw" description="Clear the DAQ buffers"/>
    <node id="ADVANCE_READ_PTR" address="1" mask="0x2" permission="rw" description="Move to the next read buffer"/>
    <node id="FULL" address="8" mask="0x2" permission="r" description="Buffer is empty"/>
    <node id="EMPTY" address="8" mask="0x1" permission="r" description="Buffer is full"/>
    <node id="NEVENTS" address="8" mask="0x1FF0" permission="r" description="Number of events in buffer"/>
    <node id="EVENT_LENGTH" address="8" mask="0x7FF0000" permission="r" description="Event length of the current event"/>
    <node id="BUFFER" address="0x1000" mode="incremental" size="0x800" permission="r" description="Event buffer"/>
  </node>
</node>

